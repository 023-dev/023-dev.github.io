{"componentChunkName":"component---src-templates-post-jsx","path":"/process-sync/","result":{"data":{"site":{"siteMetadata":{"title":"023.log"}},"markdownRemark":{"id":"d7a702e7-33d4-5e61-b58e-e26474c23965","excerpt":"프로세스 동기화 컴퓨터에서는 여러 프로세스들이 서로 협력하기 위해 동시에 같은 자원(주소 공간)을 공유하며 실행하기도 합니다.\n이러한 상황에서 사용되는 자원에서는 원자성과 일관성을 보장해야 합니다.\n이를 위해 운영체제에서는 프로세스 동기화라는 기법을 사용합니다. 컴퓨터 과학에서 동기화는 합의에 도달하거나 특정 작업 순서를 커밋하기 위해 특정 지점에 합류하…","html":"<h2 id=\"프로세스-동기화\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%8F%99%EA%B8%B0%ED%99%94\" aria-label=\"프로세스 동기화 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>프로세스 동기화</h2>\n<p>컴퓨터에서는 여러 프로세스들이 서로 협력하기 위해 동시에 같은 자원(주소 공간)을 공유하며 실행하기도 합니다.\n이러한 상황에서 사용되는 자원에서는 원자성과 일관성을 보장해야 합니다.\n이를 위해 운영체제에서는 프로세스 동기화라는 기법을 사용합니다.</p>\n<blockquote>\n<p>컴퓨터 과학에서 동기화는 합의에 도달하거나 특정 작업 순서를 커밋하기 위해 특정 지점에 합류하거나 핸드셰이킹하도록 여러 프로세스를 조정하는 작업이다. - <a href=\"https://ko.wikipedia.org/wiki/%EB%8F%99%EA%B8%B0%ED%99%94_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)#:~:text=%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B3%BC%ED%95%99%EC%97%90%EC%84%9C%20%EB%8F%99%EA%B8%B0%ED%99%94(synchronization)%EB%8A%94%20%ED%95%A9%EC%9D%98%EC%97%90%20%EB%8F%84%EB%8B%AC%ED%95%98%EA%B1%B0%EB%82%98%20%ED%8A%B9%EC%A0%95%20%EC%9E%91%EC%97%85%20%EC%88%9C%EC%84%9C%EB%A5%BC%20%EC%BB%A4%EB%B0%8B%ED%95%98%EA%B8%B0%20%EC%9C%84%ED%95%B4%20%ED%8A%B9%EC%A0%95%20%EC%A7%80%EC%A0%90%EC%97%90%20%ED%95%A9%EB%A5%98%ED%95%98%EA%B1%B0%EB%82%98%20%ED%95%B8%EB%93%9C%EC%85%B0%EC%9D%B4%ED%82%B9%ED%95%98%EB%8F%84%EB%A1%9D%20%EC%97%AC%EB%9F%AC%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC%20%EC%A1%B0%EC%A0%95%ED%95%98%EB%8A%94%20%EC%9E%91%EC%97%85%EC%9D%B4%EB%8B%A4.\">wikipedia</a></p>\n</blockquote>\n<p>프로세스 동기화란 프로세스들 사이의 수행시기를 맞추는 것을 의미합니다.\n프로세스 동기화는 실행 순서 제어를 위한 동기화와 상호베제를 위한 동기화로 구분할 수 있습니다.</p>\n<blockquote>\n<p>현대에는 대부분 쓰레드 기준으로 동기화 컨텍스트 스위칭이 발생해서 쓰레드 동기화라고 부르기도 합니다.\n하지만 공유되는 환경에서 실행의 흐름을 갖는 모든 것들이 동기화의 대상이기에 엄격하게 구분을 짓진 않는 것 같습니다.</p>\n</blockquote>\n<h3 id=\"실행-순서-제어를-위한-동기화\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C-%EC%A0%9C%EC%96%B4%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%8F%99%EA%B8%B0%ED%99%94\" aria-label=\"실행 순서 제어를 위한 동기화 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>실행 순서 제어를 위한 동기화</h3>\n<p>실행 순서 제어를 위한 동기화는 프로세스들이 특정 순서에 따라 실행되어야 하는 경우에 사용됩니다.\n예를 들어, 프로세스 A가 프로세스 B보다 먼저 실행되어야 하는 경우, A가 완료된 후에 B가 실행되도록 제어하는 것입니다.</p>\n<h3 id=\"상호배제를-위한-동기화\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%98%B8%EB%B0%B0%EC%A0%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%8F%99%EA%B8%B0%ED%99%94\" aria-label=\"상호배제를 위한 동기화 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>상호배제를 위한 동기화</h3>\n<p>상호배제를 위한 동기화는 여러 프로세스가 동시에 공유 자원에 접근하는 것을 방지하기 위해 사용됩니다.\n예를 들어, 두 개의 프로세스가 동시에 같은 파일에 접근하여 데이터를 수정하는 경우, 데이터의 일관성이 깨질 수 있습니다.\n이러한 상황을 방지하기 위해, 한 프로세스가 공유 자원에 접근하는 동안 다른 프로세스는 접근하지 못하도록 제어하는 것입니다.</p>\n<h2 id=\"공유-자원과-임계-구역\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EC%9C%A0-%EC%9E%90%EC%9B%90%EA%B3%BC-%EC%9E%84%EA%B3%84-%EA%B5%AC%EC%97%AD\" aria-label=\"공유 자원과 임계 구역 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>공유 자원과 임계 구역</h2>\n<p>공유 자원(shared resource)이란 여러 프로세스가 동시에 접근할 수 있는 자원을 의미합니다.\n예를 들어, 메모리 공간, 파일, 입출력 장치 등이 공유 자원에 해당합니다.\n임계 구역(critical section)이란 이러한 공유 자원에 접근하는 코드의 부분을 의미합니다.\n즉, 공유 자원에 접근하는 코드 영역을 임계 구역이라고 합니다.</p>\n<h2 id=\"경쟁-상태\" style=\"position:relative;\"><a href=\"#%EA%B2%BD%EC%9F%81-%EC%83%81%ED%83%9C\" aria-label=\"경쟁 상태 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>경쟁 상태</h2>\n<p>임계 구역에 대한 동시 접근은 예상치 못한 동작이나 오류 동작을 초래해 자원의 일관성을 해칠 수 있습니다.\n이러한 상황을 경쟁 상태 즉, 레이스 컨디션(race condition)이라고 합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/cf71dd3221adbb186ef6c05a6d4cae83/94411/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 48.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42m1Sa5OCMAzk//8475MPBA+UxwwoqIC8Ya+bIQ53Z2Y6bZrddJPU6roO69UPA8qyRBSGiOMYURThcrmgeD4xThOyLEO4xLgz3jTNm2/B2DzPUBtMQpImQ+Yax1HuiCFREi93w9C/Y2pWmqZ4vV6o61r27HaDbR/heT4cx4Xnn+GbpT7Vt20r2KIohMdVVZXcW3xtnmZRw5f6vhfp9KmIIC2JO/FMQBx9wRmfcfL/lazl0Eg6+z6+NhucTichX69X7Hd7BEEgWCrbbbdwXVd4H3vIRLSn6RfV5Hku94/HA/f7XRJTEc8snXyt0EqSRPpC+XyNSUgkkCroM9bUjag42Da8bw8Oz4eDcIj91UOdqPRwGb/2kI0PzLfJzeRJXE+fCVTdWyH+2LpkHYI+wATctU0cxrpd8m3wwRTERPx3VVlJH/k/P+HWCX8AZLMG0H+VqSIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img' title='' src='/static/cf71dd3221adbb186ef6c05a6d4cae83/ca1dc/img.png' srcset='/static/cf71dd3221adbb186ef6c05a6d4cae83/e7570/img.png 170w,\n/static/cf71dd3221adbb186ef6c05a6d4cae83/f46e7/img.png 340w,\n/static/cf71dd3221adbb186ef6c05a6d4cae83/ca1dc/img.png 680w,\n/static/cf71dd3221adbb186ef6c05a6d4cae83/94411/img.png 793w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>운영체제는 임계 구역에서 발생하는 이러한 경쟁 상태를 방지하기 위해 다음과 같은 기법을 원칙 하에 동기화를 구현합니다.</p>\n<ul>\n<li>상호 배제(mutual exclusion) : 한 프로세스가 임계 구역에 진입했다면 다른 프로세스는 임계 구역에 들어올 수 없습니다.</li>\n<li>진행(process) : 임계 구역에 어떤 프로세스도 진입하지 않았다면 임계 구역에 진입하고자 하는 프로세스는 들어갈 수 있어야 합니다.</li>\n<li>유한 대기(bounded waiting) : 한 프로세스가 임계 구역에 진입하고 싶다면 그 프로세스는 언젠가는 임계 구역에 들어올 수 있어야 합니다. 임계 구역에 들어오기 위해 무한정 대기해서는 안 됩니다</li>\n</ul>\n<h2 id=\"동기화-기법\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EA%B8%B0%ED%99%94-%EA%B8%B0%EB%B2%95\" aria-label=\"동기화 기법 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>동기화 기법</h2>\n<p>이제 실행 순서 제어와 상호 배제를 위한 동기의화 실제 적용 기법에 대해 알아보겠습니다.</p>\n<h3 id=\"뮤텍스-락\" style=\"position:relative;\"><a href=\"#%EB%AE%A4%ED%85%8D%EC%8A%A4-%EB%9D%BD\" aria-label=\"뮤텍스 락 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>뮤텍스 락</h3>\n<p>뮤텍스 락(mutex lock)은 임계 구역에 동시에 접근하지 않도록 하는 상보 배체를 위한 동기화 기법입니다.\n임계 구역에 진입하는 프로세스는 자신이 현재 임계 구역에 있음을 알리기 위해 뮤텍스 락을 이용해서 임계 구역에 락을 걸 수 있습니다.\n다른 프로세스는 임계 구역에 락이 걸려 있다면 기다리고, 그렇지 않다면 임계 구역에 진입할 수 있게 됩니다.</p>\n<p>뮤텍스 락은 프로세스들이 공유하는 <code class=\"language-text\">lock</code> 전역변수와\n임계 구역에 락을 거는 <code class=\"language-text\">acquire</code> 함수,\n그 락을 해제하는 역할인 <code class=\"language-text\">release</code> 함수로 구성됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Mutex</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> lock <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">acquire</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>lock<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// busy waiting</span>\n        <span class=\"token punctuation\">}</span>\n        lock <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        lock <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>여기서 <code class=\"language-text\">busy waiting</code>이란 프로세스가 임계 구역에 진입하기 위해 반복적으로 <code class=\"language-text\">lock</code>를 확인하는 것을 의미합니다.\n이런 행위는 CPU 자원을 낭비를 유발합니다.</p>\n</blockquote>\n<p>이렇게 구현하게 되면 프로세스는 임계 구역에 락이 되어있을 경우 계속해서 락이 해제되기를 기다리게 됩니다.\n락이 해제되어 임계 구역에 진입할 수 있게 되면 락을 건 후 임계 구역에 진입하여 작업을 진행하게 됩니다.\n그리고 다시 임계 구역에서 빠져나올 때 락을 해제하여 다른 프로세스가 임계 구역에 진입할 수 있도록 합니다.\n뮤텍스 락은 이런 방식으로 임계 구역에 동시에 접근하는 것을 방지하여 임계구역을 보호할 수 있습니다.</p>\n<h3 id=\"세마포어\" style=\"position:relative;\"><a href=\"#%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\" aria-label=\"세마포어 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>세마포어</h3>\n<p>세마포어(semaphore)는 뮤텍스 락보다 더 일반화된 동기화 기법으로,\n실행 순서 제어를 위한 동기화와 상호 배제를 위한 동기화 모두에 사용할 수 있습니다.\n뮤텍스 락은 임계 구역에 하나의 프로세스만 접근할 수 있도록 하지만,\n세마포어는 여러 프로세스가 동시에 접근할 수 있도록 허용할 수 있습니다.</p>\n<blockquote>\n<p>사실 세마포어의 종류에는 이진 세마포와 카운팅 세마포어가 있습니다.\n하지만 이진 세마포어는 뮤텍스 락과 동일한 기본 구현을 사용하는 락 메커니즘로서,\n이 글에서는 카운팅 세마포어에 대해 설명하고자 합니다.</p>\n</blockquote>\n<h4 id=\"상호배제를-위한-세마포어\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%98%B8%EB%B0%B0%EC%A0%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\" aria-label=\"상호배제를 위한 세마포어 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>상호배제를 위한 세마포어</h4>\n<p>세마포어는 임계 구역에 동시에 접근할 수 있는 프로세스의 수를 나타내는 정수형 전역 변수 <code class=\"language-text\">S</code>와\n임계 구역에 진입하기 위해 <code class=\"language-text\">S</code>를 감소시키는 <code class=\"language-text\">wait</code> 함수,\n임계 구역에서 빠져나올 때 <code class=\"language-text\">S</code>를 증가시키는 <code class=\"language-text\">signal</code> 함수로 구성됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Semaphore</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Semaphore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">this<span class=\"token punctuation\">.</span></span>S</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">S</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// busy waiting</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token class-name\">S</span><span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">signal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">S</span><span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>코드를 보면 바쁜 대기(busy waiting)이 뮤텍스에서 본 거 처럼 존재하는 것을 알 수 있습니다.\n세마포어는 이런 상황에서 CPU 자원을 낭비하는 것을 방지하기 위해,\n바쁜 대기 대신 프로세스를 대기 상태로 전환하는 방법을 사용합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Semaphore</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Queue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Process</span><span class=\"token punctuation\">></span></span> queue <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LinkedList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Semaphore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">this<span class=\"token punctuation\">.</span></span>S</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">acquire</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Process</span> p<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">S</span><span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">S</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            queue<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            p<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 블로킹</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">S</span><span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">S</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">Process</span> p <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>p <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                p<span class=\"token punctuation\">.</span><span class=\"token function\">wakeUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 구현하게 되면 프로세스는 임계 구역에 진입하기 위해 <code class=\"language-text\">acquire</code> 함수를 호출합니다.\n<code class=\"language-text\">S</code>가 0보다 작아지면 임계 구역에 진입할 수 없으므로, 프로세스는 대기 큐에 추가되고 대기 상태로 전환됩니다.\n그리고 임계 구역에서 빠져나올 때 <code class=\"language-text\">release</code> 함수를 호출하여 <code class=\"language-text\">S</code>를 증가시키고,\n대기 큐에 있는 프로세스 중 하나를 깨워서 임계 구역에 진입할 수 있도록 합니다.\n이런 방식으로 세마포어는 .</p>\n<h4 id=\"실행-순서-제어를-위한-세마포어\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C-%EC%A0%9C%EC%96%B4%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4\" aria-label=\"실행 순서 제어를 위한 세마포어 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>실행 순서 제어를 위한 세마포어</h4>\n<p>세마포어는 실행 순서 제어를 위한 동기화에도 사용할 수 있습니다.\n프로세스 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>가 프로세스 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>보다 먼저 실행되어야 하는 경우를 예로 들어보겠습니다.\n전역 변수 <code class=\"language-text\">S</code>를 0으로 초기화하고,\n먼저 실행할 프로세스 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 뒤에 <code class=\"language-text\">signal</code> 함수를 호출하여 <code class=\"language-text\">S</code>를 1로 증가시킵니다.\n그리고 나중에 실행할 프로세스 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 앞에는 <code class=\"language-text\">wait</code> 함수를 호출합니다.\n이렇게 하면 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>가 먼저 진입해도 <code class=\"language-text\">wait</code> 함수로 인해 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 프로세스 먼저 실행되고, 그 다음에 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>가 실행되도록 제어할 수 있습니다.\n즉, <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>와 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>의 실행되는 순서에 차이가 있더라도 항상 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">P_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>가 먼저 실행되도록 보장할 수 있습니다.</p>\n<h3 id=\"모니터\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8B%88%ED%84%B0\" aria-label=\"모니터 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>모니터</h3>\n<p>이처럼 세마포어는 뮤텍스 락보다 더 일반화된 동기화 기법이지만,\n매번 임계 구역에 진입할 때마다 <code class=\"language-text\">wait</code>와 <code class=\"language-text\">signal</code> 함수를 호출해야 하므로 번거롭고,\n코드가 복잡해질 수 있습니다.\n또한, <code class=\"language-text\">wait</code>와 <code class=\"language-text\">signal</code> 함수를 호출하는 순서가 잘못되거나 중복해서 사용한 경우 예기치 못한 상황이 발생할 수 있습니다.\n이를 해결하기 위해 모니터(monitor)라는 고수준의 동기화 기법이 개발되었습니다.</p>\n<h4 id=\"상호배제를-위한-모니터\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%98%B8%EB%B0%B0%EC%A0%9C%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%AA%A8%EB%8B%88%ED%84%B0\" aria-label=\"상호배제를 위한 모니터 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>상호배제를 위한 모니터</h4>\n<p>모니터는 공유 자원과 공유 자원에 접근하기 위한 인터페이스를 하나의 추상 데이터 타입으로 캡슐화한 것입니다.\n모니터를 통해 공유 자원에 접근하고자 하는 프로세스를 큐에 삽입하고,\n큐에서 프로세스를 꺼내어 공유 자원을 사용할 수 있도록 합니다.\n즉, 모니터에 진입하기 위한 큐를 만들고,\n모니터 안에 항상 하나의 프로세스만 존재하도록 보장여 상호 배제를 위한 동기화를 구현합니다.</p>\n<h5 id=\"실행-순서-제어를-위한-모니터\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C-%EC%A0%9C%EC%96%B4%EB%A5%BC-%EC%9C%84%ED%95%9C-%EB%AA%A8%EB%8B%88%ED%84%B0\" aria-label=\"실행 순서 제어를 위한 모니터 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>실행 순서 제어를 위한 모니터</h5>\n<p>모니터는 모니터에 진입하도록 하기 위한 상호 배제를 위한 큐와\n<code class=\"language-text\">wait</code>가 호출되어 실행 중단된 프로세스가 대기하는 큐,\n그리고 조건 변수(condition variable)를 이용하여 실행 순서 제어를 위한 동기화도 구현할 수 있습니다.</p>\n<blockquote>\n<p>조건 변수란 실행 순서를 제어하기 위해 wait()와 signal()을 호출할 수 있는 특별한 변수입니다.</p>\n</blockquote>\n<p>세마포어와 마찬가지로 모니터에서도 <code class=\"language-text\">wait</code>와 <code class=\"language-text\">signal</code> 함수를 사용하는 것을 알 수 있는데,\n동작은 유사하지만, 자체적인 값을 가지는 세마포어와 달리,\n모니터의 조건 변수는 자체적인 값을 가지지 않고,\n프로세스를 큐에 삽입하고 꺼내는 역할만 합니다.</p>","frontmatter":{"title":"프로세스 동기화","date":"September 19, 2025","update":"September 19, 2025","tags":["운영체제"],"series":"운영체제"},"fields":{"slug":"/process-sync/","readingTime":{"minutes":14.65}}},"seriesList":{"edges":[{"node":{"id":"24b515ca-c21e-5ab7-9564-797f410bf0d4","fields":{"slug":"/operating-system/"},"frontmatter":{"title":"운영체제의 개념과 구조"}}},{"node":{"id":"7ccb106e-2bfe-54a5-a60a-75d316a1a18a","fields":{"slug":"/kernel/"},"frontmatter":{"title":"커널의 작동 방식"}}},{"node":{"id":"a862b8b7-e595-5357-8f22-232c490f7043","fields":{"slug":"/process/"},"frontmatter":{"title":"프로세스"}}},{"node":{"id":"39d98ef0-e008-5ca5-83b5-088b6164e889","fields":{"slug":"/cpu-scheduling/"},"frontmatter":{"title":"CPU 스케줄링"}}},{"node":{"id":"d7a702e7-33d4-5e61-b58e-e26474c23965","fields":{"slug":"/process-sync/"},"frontmatter":{"title":"프로세스 동기화"}}},{"node":{"id":"6019617f-15e3-575b-8bd4-610f4bf459e3","fields":{"slug":"/deadlock/"},"frontmatter":{"title":"교착 상태"}}},{"node":{"id":"4f8e8fcc-600c-5bda-a3e5-6e93dfde99ab","fields":{"slug":"/memory/"},"frontmatter":{"title":"메모리 관리"}}},{"node":{"id":"181754c4-8562-5640-85ee-ff9d90906e5c","fields":{"slug":"/virtual-memory/"},"frontmatter":{"title":"가상 메모리"}}}]},"previous":{"fields":{"slug":"/cpu-scheduling/"},"frontmatter":{"title":"CPU 스케줄링"}},"next":{"fields":{"slug":"/deadlock/"},"frontmatter":{"title":"교착 상태"}}},"pageContext":{"id":"d7a702e7-33d4-5e61-b58e-e26474c23965","series":"운영체제","previousPostId":"39d98ef0-e008-5ca5-83b5-088b6164e889","nextPostId":"6019617f-15e3-575b-8bd4-610f4bf459e3"}},"staticQueryHashes":[],"slicesMap":{}}