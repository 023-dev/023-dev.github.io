{"componentChunkName":"component---src-templates-post-jsx","path":"/routing/","result":{"data":{"site":{"siteMetadata":{"title":"023.log"}},"markdownRemark":{"id":"ae5268ee-f0f7-520d-9423-35fdb4557a68","excerpt":"라우터의 핵심 기능은 패킷이 이동할 최적의 경로를 설정한 뒤 해당 경로로 패킷을 이동시키는 것입니다.\n이를 라우팅이라고 합니다.\n라우팅 테이블이 만들어지는 방법과 프로토콜에 따라 라우팅을 분류하면 아래 그림과 같이 표현할 수 있습니다. 라우터와 라우팅 테이블 라우터 네트워크 계층의 장비로 라우터만 알아도 큰 무리가 없을 정도로, 라우터는 네트워크 계층의 …","html":"<p>라우터의 핵심 기능은 패킷이 이동할 최적의 경로를 설정한 뒤 해당 경로로 패킷을 이동시키는 것입니다.\n이를 라우팅이라고 합니다.\n라우팅 테이블이 만들어지는 방법과 프로토콜에 따라 라우팅을 분류하면 아래 그림과 같이 표현할 수 있습니다.</p>\n<h2 id=\"라우터와-라우팅-테이블\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B0%ED%84%B0%EC%99%80-%EB%9D%BC%EC%9A%B0%ED%8C%85-%ED%85%8C%EC%9D%B4%EB%B8%94\" aria-label=\"라우터와 라우팅 테이블 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>라우터와 라우팅 테이블</h2>\n<h3 id=\"라우터\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B0%ED%84%B0\" aria-label=\"라우터 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>라우터</h3>\n<p>네트워크 계층의 장비로 라우터만 알아도 큰 무리가 없을 정도로, 라우터는 네트워크 계층의 핵심 기능을 담당합니다.\n사실 L3 스위치라고 부르는 장치도 네트워크 계층의 대표 장치이기는 하지만, 오늘날 라우터와 L3 스위치는 기능상 상당 부분 유사하므로 엄밀히 구분하지 않는 경우가 많습니다.\n라우터는 허브나 스위치보다 높은 계층에 속하는 장치이므로 기능적으로는 사실상 여러 분이 사용하는 컴퓨터와 매우 유사합니다.</p>\n<blockquote>\n<p>일반적으로 가정 환경에서는 공유기가 라우터의 역할을 대신합니다.\n이런 점에서 공유기를 홈 라우터(home router)라고 부르기도 합니다.\n사실 공유기는 라우터 기능뿐만 아니라 NAT 기능, DHCP 서버 기능, 보안을 위한 방화벽 기능 등 다양한 장치의 기능이 합축된 네트워크 장비라고 볼 수 있습니다.</p>\n</blockquote>\n<p>멀리 떨어져 있는 호스트 간의 통신 과정에서 패킷은 서로에게 도달하기까지 여러 라우터를 거쳐서 다양한 경로로 이동할 수 있습니다.\n전송한 패킷은 여러 대의 라우터를 깡충깡충 거치듯이 수신지까지 이동하는 셈입니다.\n이처럼 라우팅 도중 패킷이 호스트와 라우터 간에, 혹은 라우터와 라우터 간에 이동하는 하나의 과정을 홉(hop)이라고 부릅니다.\n즉, 패킷은 ‘여러 홉을 거쳐’ 라우팅될 수 있는 것입니다.</p>\n<h3 id=\"라우팅-테이블\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B0%ED%8C%85-%ED%85%8C%EC%9D%B4%EB%B8%94\" aria-label=\"라우팅 테이블 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>라우팅 테이블</h3>\n<p>라우팅의 핵심은 라우터가 저장하고 관리하는 라우팅 테이블입니다.\n라우팅 테이블은 특정 수신지까지 도달하기 위한 정보를 명시한 일종의 표와 같은 정보입니다.\n라우터는 라우팅 테이블을 참고하여 수신지까지의 도달 경로를 판단합니다.\n라우팅 테이블에 포함된 정보는 라우팅 방식에 따라, 호스트의 환경에 따라 달라질 수 있습니다.\n하지만 공통적인 정보이자 핵심적인 정보로는 수신지 IP 주소와 서브넷 마스크, 다음 홉이 있고,\n이외에도 라우팅 테이블에 명시되는 대표적인 정보로 네트워크 인터페이스와 메트릭이 있습니다.</p>\n<ul>\n<li>\n<p>수신지 IP 주소와 서브넷 마스크: 최종적으로 패킷을 전달할 대상을 의미합니다.</p>\n</li>\n<li>\n<p>다음 홉: 최종 수신지까지 가기 위해 다음으로 거쳐야 할 호스트의 IP 주소나 인터페이스를 의미합니다. 게이트웨이라고 명시되기도 합니다.</p>\n</li>\n<li>\n<p>네트워크 인터페이스: 패킷을 내보낼 통로입니다.</p>\n</li>\n<li>\n<p>인터페이스(NIC) 이름이 직접적으로 명시되거나, 인터페이스에 대응하는 IP 주소가 명시되기도 합니다.</p>\n</li>\n<li>\n<p>메트릭: 해당 경로로 이동하는 데에 드는 비용을 의미합니다. 흔히 매장에서 같은 류의 물건을 살 때 더 저렴한 물건을 선택하는 것과 같습니다. 일상에서 가성비가 좋은 물품이 선호되듯, 라우터가 라우팅 테이블에 있는 경로 중 패킷을 내보낼 경로를 선택할 때도 메트릭이 낮은 경로를 선호합니다.</p>\n</li>\n<li>\n<p>예를 들어, 192.168.2.0/24 (호스트 IP 주소 범위 192.168.2.1~192.168.2.254)인 패킷은 eth0(인터페이스)를 통해 192.168.2.1(게이트웨이)로 전송하라는 것을 의미합니다.</p>\n</li>\n</ul>\n<blockquote>\n<p>디폴트 라우트\n패킷 내의 수신지 IP 주소가 라우팅 테이블에 있는 수신지 IP 주소, 서브넷 마스크 항목과 완벽하게 합치되는 경우가 있지만, 그렇지 않은 경우도 있습니다.\n다시 말해 라우팅 테이블에 없는 경로로 패킷을 전송해야 할 때가 있습니다. 이 경우 기본적으로 패킷을 내보낼 경로를 설정하여 해당 경로로 패킷을 내보낼 수 있습니다.\n이 기본 경로를 디폴트 라우트라고 합니다. 디폴트 라우트는 모든 IP 주소를 의미하는 0.0.0.0/0로 명시합니다.\n예를 들어 수신지 IP 주소가 1.2.3.4인 패킷의 경우, 다음 라우팅 테이블에서 다른 어떤 항목과도 합치되지 않으므로 설정된 디폴트 라우트, 즉 eth2를 통해 192.168.0.1로 전송됩니다.</p>\n</blockquote>\n<p>기본 게이트웨이는 호스트가 속한 네트워크 외부로 나아가기 위한 첫 번째 경로이고, 일반적으로 라우터 주소를 의미하는 경우가 많습니다.\n여기서 기본 게이트웨이로 나아가기 위한 경로가 디폴트 라우트인 셈입니다.</p>\n<p>가령 네트워크 내부 호스트 A가 네트워크 외부 호스트 B에게 패킷을 전달해야 합니다고 가정해봅시다.</p>\n<ol>\n<li>A의 라우팅 테이블에 B에 이르는 경로가 따로 없을 경우, A는 우선 패킷을 라우터(기본 게이트웨이)에 전달해야 할 것입니다.</li>\n<li>이를 위해 A는 라우터 주소인 기본 게이트웨이를 디폴트 라우트로 삼습니다.</li>\n<li>그럼 A는 라우팅 테이블에 따로 수신지 경로가 등록되어 있지 않은 패킷들은 기본적으로 라우터에게 전달하게 되는 것입니다.</li>\n</ol>\n<p>핵심은 라우팅을 해 주는 네트워크 장비인 라우터는 라우팅 테이블을 통해 패킷을 수신지까지 전달할 수 잇다는 점이고,\n라우팅 테이블 안에는 네트워크상의 특정 수신지까지 도달하기 위한 정보들이 담겨있습니다는 점입니다.</p>\n<h2 id=\"정적-라우팅과-동적-라우팅\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%A0%81-%EB%9D%BC%EC%9A%B0%ED%8C%85%EA%B3%BC-%EB%8F%99%EC%A0%81-%EB%9D%BC%EC%9A%B0%ED%8C%85\" aria-label=\"정적 라우팅과 동적 라우팅 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>정적 라우팅과 동적 라우팅</h2>\n<p>라우팅 테이블을 만드는 방법은 크게 두 가지 방법이 있습니다.</p>\n<h3 id=\"정적-라우팅\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%A0%81-%EB%9D%BC%EC%9A%B0%ED%8C%85\" aria-label=\"정적 라우팅 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>정적 라우팅</h3>\n<p>정적 라우팅은 사용자가 수동으로 직접 채워 넣은 라우팅 테이블의 항목을 토대로 라우팅되는 방식입니다.\n예를 들어 다음과 같이 라우팅 테이블 항목을 다루는 명령어가 있습니다.\n이처럼 수동으로 구성된 라우팅 테이블 항목을 통해 수행되는 라우팅을 정적 라우팅이라 표현합니다.</p>\n<h3 id=\"동적-라우팅\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%A0%81-%EB%9D%BC%EC%9A%B0%ED%8C%85\" aria-label=\"동적 라우팅 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>동적 라우팅</h3>\n<p>네트워크의 규모가 커지고 관리해야 할 라우터가 늘어나면 정적 라우팅만으로는 관리가 버겁다.\n수동으로 라우팅 테이블 항목을 입력해야 하는 정적 라우팅의 특성상 입력 실수가 발생할 수도 있습니다.\n또한 설령 실수 없이 입력했다고 할지라도 라우팅되는 경로상에 예상치 못한 문제가 생길 수 있습니다.\n이때 사용할 수 있는 방식이 바로 동적 라우팅입니다.\n동적 라우팅은 자동으로 라우팅 테이블 항목을 만들고, 이를 이용하여 라우팅하는 방식을 의미합니다.\n이러한 이유로 동적 라우팅을 하면 라우팅 테이블 항목이 수시로 변할 수 있습니다.\n그렇다면 동적 라우팅은 어떻게 자동으로 라우팅 테이블 항목을 만드는 것일까?\n모든 라우터는 특정 수신지까지 도달하기 위한 최적의 경로를 찾아 라우팅 테이블에 추가하려 노력합니다.\n이를 위해 라우터끼리 서로 자신의 정보를 교환하게 되는데, 이 과정에서 사용되는 프로토콜이 바로 동적 라우팅 프로토콜입니다.</p>\n<h2 id=\"ASAutonomous-System\" style=\"position:relative;\"><a href=\"#ASAutonomous-System\" aria-label=\"ASAutonomous System permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>AS(Autonomous System)</h2>\n<p>동일한 라우팅 정책으로 운용되는 라우터들의 집단 네트워크인 AS(Autonomous System)가 있습니다.\n한 회사나 단체에서 관리하는 라우터 집단을 AS라고 생각해도 좋습니다.\nAS마다 인터넷상에서 고유한 AS 번호(ASN; Autonomous System Number)가 할당됩니다.\nAS 번호는 사설 IP 주소처럼 사설 AS 번호도 있지만, 일반적으로 AS 번호를 칭할 때는 고유한 번호를 일컫는 경우가 많습니다.\n한 AS 내에는 다수의 라우터가 있습니다.\n라우터들은 AS 내부에서만 통신할 수도 있고, AS 외부와 통신할 수도 있습니다.\nAS 외부와 통신할 경우,\nAS 경계에서 AS 내부로 통신을 주고받을 수 있는\nAS 경계 라우터(ASBR; Autonomous System Boundary Router)라는 특별한 라우터를 이용합니다.</p>\n<h2 id=\"라우팅-프로토콜\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B0%ED%8C%85-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\" aria-label=\"라우팅 프로토콜 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>라우팅 프로토콜</h2>\n<p>라우팅 프로토콜은 라우터끼리 자신들의 정보를 교환하며 패킷이 이동할 최적의 경로를 찾기 위한 프로토콜입니다.</p>\n<p>라우팅 프로토콜은 크게 AS 내부에서 수행되느냐, AS 외부에서 수행되느냐에 따라 종류를 나눌 수 있습니다.</p>\n<ul>\n<li>IGP(Interior Gateway Protocol) : AS 내부에서 라우팅하는 프로토콜</li>\n<li>EGP(Exterior Gateway Protocol) : AS 외부에서 라우팅 하는 프로토콜</li>\n</ul>\n<h3 id=\"IGP\" style=\"position:relative;\"><a href=\"#IGP\" aria-label=\"IGP permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>IGP</h3>\n<p>대표적인 IGP로는 RIP(Routing Information Protocol)과 OSPF(Open Shortest Path First)가 있습니다.\n이 프로토콜들은 최적의 경로를 선정하는 과정에서 거리 벡터가 사용되느냐, 링크 상태가 사용되느냐로 구분할 수 있습니다.\nRIP는 거리 벡터를, OSPF는 링크 상태를 사용하는 라우팅 프로토콜입니다.</p>\n<h3 id=\"RIP\" style=\"position:relative;\"><a href=\"#RIP\" aria-label=\"RIP permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>RIP</h3>\n<p>RIP는 거리 벡터 기반의 라우팅 프로토콜입니다.\n여기서 거리 벡터 라우팅 프로토콜이란 이름 그대로 거리를 기반으로 최적의 경로를 찾는 라우팅 프로토콜을 의미합니다.\n그리고 여기서 말하는 거리는 패킷이 경유한 라우터의 수(=홉의 수)를 의미합니다.</p>\n<p>RIP는 인접한 라우터끼리 경로 정보를 주기적으로 교환하며 라우팅 테이블을 갱신합니다.\n이를 통해 라우터는 특정 수신지에 도달하기까지의 홉 수를 알 수 있습니다.\n그리고 특정 수신지까지 도달하기 위해 '홉 수가 가장 적은 경로'를 최적의 경로라고 판단합니다.\n그렇기에 홉 수가 적을수록 라우팅 테이블 상의 메트릭 값도 작아진다.</p>\n<h3 id=\"OSPF\" style=\"position:relative;\"><a href=\"#OSPF\" aria-label=\"OSPF permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>OSPF</h3>\n<p>OSPF는 링크 상태 라우팅 프로토콜입니다.\n네트워크는 그래프의 형태를 띠며, 노드와 간선(링크)으로 이루어져 있습니다.</p>\n<p>OSPF는 이러한 링크 정보를 비롯한 현재 네트워크의 상태를 그래프의 형태로,\n링크 상태 데이터베이스(LSDB; Link State DataBase)에 저장합니다.\n링크 상태 데이터베이스에는 라우터들의 연결 관계,\n연결 비용 등 현재 네트워크의 상태를 그래프로 표현하기 위한 데이터가 저장되어 있습니다.\n라우터는 이 링크 상태 데이터베이스를 기반으로 현재 네트워크 구성을 마치 지도처럼 그린 뒤에 최적의 경로를 선택합니다.\n즉, 라우터를 노드라 생각하고 그래프 자료구조를 만들어서 최단거리 알고리즘을 통해서 최적의 경로를 구하는 것입니다.</p>\n<blockquote>\n<ul>\n<li>OSPF에서는 최적의 경로를 결정하기 위해 대역폭을 기반으로 메트릭을 계산합니다.</li>\n<li>대역폭이 높은 링크일수록 메트릭이 낮은 경로로 인식합니다.</li>\n<li>라우터 간에 경로 정보를 주기적으로 교환하며 라우팅 테이블을 갱신하는 RIP과 달리, OSPF는 네트워크의 구성이 변경되었을 때 라우팅 테이블이 갱신됩니다.</li>\n</ul>\n</blockquote>\n<p>네트워크 구성이 변경될 때마다 라우팅 테이블이 갱신됩니다면, 네트워크의 규모가 매우 커졌을 때는 링크 상태 데이터베이스에 모든 정보를 저장하기가 어렵습니다.\n최적의 경로를 갱신하는 연산 부담도 커질 수 있습니다.\n이에 OSPF에서는 AS를 에어리어(area)라는 단위로 나누고,\n분된 에어리어 내에서만 링크 상태를 공유합니다.\n에어리어에는 위 그림처럼 번호가 부여되어 있으며,\n에어리어 경계에 있는 ABR(Area Border Router)이라는 라우터가 에어리어 간의 연결을 담당합니다.</p>\n<h3 id=\"EGPBGP\" style=\"position:relative;\"><a href=\"#EGPBGP\" aria-label=\"EGPBGP permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>EGP:BGP</h3>\n<p>대표적인 EGP로는 BGP(Border Gateway Protocol)가 있습니다.\nBGP는 AS 간의 통신에서 사용되는 대표적인 프로토콜로,\n엄밀하게는 AS 간의 통신이 ‘가능한’ 프로토콜입니다.\n따라서 BGP로 AS 내부의 라우터 간 통신도 가능합니다.</p>\n<ul>\n<li>eBGP(external BGP) : AS 간의 통신을 위한 BGP</li>\n<li>iBGP(internal BGP) : AS 내부의 통신을 위한 BGP</li>\n</ul>\n<p>AS 간에 정보를 주고받기 위해서는 AS 내에서 eBGP를 사용하는 라우터(이하 BGP 라우터)가 하나 이상 있어야 하고,\n또 다른 AS의 BGP 라우터와 연결되어야 합니다.\n이 연결은 BGP 라우터 간에 BGP 메시지를 주고받음으로써 이루어지는데,\nBGP 메시지를 주고받을 수 있도록 연결된 BGP 라우터를 피어(peer)라고 정의합니다.\n즉, 다른 AS와의 BGP 연결을 유지하기 위해서는 BGP 라우터끼리 연결되어 피어가 되어야 합니다.\n이렇게 피어 관계가 되도록 연결되는 과정을 피어링(peering)이라 합니다.</p>","frontmatter":{"title":"라우팅","date":"October 03, 2025","update":"October 03, 2025","tags":["네트워크"],"series":"네트워크"},"fields":{"slug":"/routing/","readingTime":{"minutes":18.705}}},"seriesList":{"edges":[{"node":{"id":"903ac55c-c78a-5574-8735-a6ab96596770","fields":{"slug":"/protocol/"},"frontmatter":{"title":"프로토콜"}}},{"node":{"id":"84503810-fd4d-54eb-83aa-0145f021a8b1","fields":{"slug":"/physical-layer-and-data-link-layer/"},"frontmatter":{"title":"물리 계층 및 데이터 링크 계층"}}},{"node":{"id":"831d1312-a82b-5cca-b241-72ef4bb44d10","fields":{"slug":"/network/"},"frontmatter":{"title":"네트워크"}}},{"node":{"id":"ae5268ee-f0f7-520d-9423-35fdb4557a68","fields":{"slug":"/routing/"},"frontmatter":{"title":"라우팅"}}},{"node":{"id":"5f9d2775-8d81-5318-881e-90bf350acc4a","fields":{"slug":"/ip-arp/"},"frontmatter":{"title":"IP와 ARP"}}},{"node":{"id":"a674d73e-7424-58fb-9ba6-6b4da8cc080b","fields":{"slug":"/ip-address-system/"},"frontmatter":{"title":"IP 주소 체계"}}}]},"previous":{"fields":{"slug":"/network/"},"frontmatter":{"title":"네트워크"}},"next":{"fields":{"slug":"/ip-arp/"},"frontmatter":{"title":"IP와 ARP"}}},"pageContext":{"id":"ae5268ee-f0f7-520d-9423-35fdb4557a68","series":"네트워크","previousPostId":"831d1312-a82b-5cca-b241-72ef4bb44d10","nextPostId":"5f9d2775-8d81-5318-881e-90bf350acc4a"}},"staticQueryHashes":[],"slicesMap":{}}