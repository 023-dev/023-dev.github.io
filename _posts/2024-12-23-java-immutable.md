---
layout: post
title: "불변 객체(Immutable Object)"
author: "023"
comments: true
tags: Java
excerpt_separator: <!--more-->
---

# 불변 객체(Immutable Object)
불변 객체(Immutable Object)는 객체의 상태가 변경되지 않는 객체를 의미한다.
불변 객체는 객체의 상태가 변경되지 않기 때문에 객체의 상태를 변경하는 메소드를 제공하지 않는다.
불변 객체는 객체의 상태가 변경되지 않기 때문에 여러 스레드에서 동시에 접근해도 안전하다.
불변 객체는 객체의 상태가 변경되지 않기 때문에 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용할 수 있다.

## 불변 객체의 특징
불변 객체는 다음과 같은 특징을 가진다.

1. 객체의 상태가 변경되지 않는다.
2. 객체의 상태를 변경하는 메소드를 제공하지 않는다.
3. 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용할 수 있다.
4. 여러 스레드에서 동시에 접근해도 안전하다.
5. 객체의 상태가 변경되지 않기 때문에 객체의 해시코드를 캐싱할 수 있다.
6. 객체의 상태가 변경되지 않기 때문에 객체의 동등성 비교를 캐싱할 수 있다.
7. 객체의 상태가 변경되지 않기 때문에 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용할 수 있다.

## 불변 객체의 예제
다음은 불변 객체의 예제이다.

```java
public final class ImmutableObject {
    private final int value;

    public ImmutableObject(int value) {
        this.value = value;
    }

    public int getValue() {
        return value;
    }
}
```

위 코드는 불변 객체를 정의한 코드이다.
`ImmutableObject` 클래스는 `value` 필드를 가지고 있으며, `value` 필드는 `final` 키워드로 선언되어 있다.
`final` 키워드로 선언된 필드는 한 번 초기화되면 변경할 수 없다.
따라서 `value` 필드는 객체가 생성될 때 초기화되며, 이후에는 변경할 수 없다.

## 불변 객체의 장단점
불변 객체는 다음과 같은 장단점을 가진다.

### 장점
1. 객체의 상태가 변경되지 않기 때문에 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용할 수 있다.
2. 여러 스레드에서 동시에 접근해도 안전하다.
3. 객체의 상태가 변경되지 않기 때문에 객체의 해시코드를 캐싱할 수 있다.
4. 객체의 상태가 변경되지 않기 때문에 객체의 동등성 비교를 캐싱할 수 있다.
5. 객체의 상태가 변경되지 않기 때문에 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용할 수 있다.

### 단점
1. 객체의 상태가 변경되지 않기 때문에 객체의 상태를 변경하는 메소드를 제공하지 않는다.
2. 객체의 상태를 변경하려면 새로운 객체를 생성해야 한다.

## 불변 객체의 사용
불변 객체는 다음과 같은 상황에서 사용할 수 있다.

1. 객체의 상태가 변경되지 않아야 하는 경우
2. 여러 스레드에서 동시에 접근해야 하는 경우
3. 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용해야 하는 경우
4. 객체의 상태가 변경되지 않기 때문에 객체의 해시코드를 캐싱하고 싶은 경우
5. 객체의 상태가 변경되지 않기 때문에 객체의 동등성 비교를 캐싱하고 싶은 경우
6. 객체의 상태가 변경되지 않기 때문에 객체의 상태를 복사하는 것이 아닌 참조만 복사하여 사용해야 하는 경우
